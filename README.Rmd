---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
# pensionviewr

The goal of pensionviewr is to simplify the process of gathering and visualizing public pension plan data from the Reason pension database.

## Installation

You can install the released version of pensionviewr from [GitHub](https://github.com/ReasonFoundation/pensionviewr) with:

``` r
devtools::install_github("ReasonFoundation/pensionviewr")
```

## Usage:

The planList function returns a stripped down list of the pension plans in the database along with their state and the internal databse id.

```{r planList}
library(pensionviewr)
pl <- planList()
head(pl)
```

The next step would be to load the data for the specific plan of interest. Let's use Kansas Public Employees' Retirement System as an example. Let's first see what plans in Kansas are available:

```{r Kansas}
require(tidyverse)
KS <- pl %>% filter(state == 'Kansas')
print(KS)
```

The full plan name we are interested in is there listed as "Kansas Public Employees' Retirement System". We can pull the data for it now:

```{r pullData}
kpers_data <- pullData(pl, plan_name = "Kansas Public Employees' Retirement System")
head(kpers_data)
```

That is a lot of variables. The selectedData() function selects only a handful of needed variables:

```{r selectedData}
df <- selectedData(kpers_data)
head(df)
```

Now lets make some plots:

```{r plot1, echo = FALSE}
debtPlot(df)
```


```{r contributions}
contPlot(df)
```

